<!doctype html> <html> <head> <meta charset=UTF-8 /> <meta http-equiv=Content-Type content="text/html"/> <title>/code - AsktheRelic.com</title> <link rel=alternate type="application/rss+xml" title="RSS 2.0" href="/code/feed/"/> <link rel=stylesheet media=screen href="/stylesheets/code.css?1455444368"/> <link rel=stylesheet href='/stylesheets/github.css?1455444368'/> <link rel="shortcut icon" href="/favicon.ico"> <script src="/javascripts/jquery-1.5.2.js?1455444368"></script> <script src="/javascripts/jquery.ui.widget-1.8.11.js?1455444368"></script> <script></script> </head> <body> <div id=container> <div id=container2> <div id=container1> <div id=left> <div id=left-header> <h2><a href="/code">/code - a blog</a></h2> </div> <div id=content> <div id=main_block> <div id=prose_block class=post> <a name=upgrading-to-blogofile-0-7 /> <h2 class="blog.post_title"><a href="/2011/01/20/upgrading-to-blogofile-0-7/">Upgrading To Blogofile 0.7</a></h2> <small>January 20, 2011 at 10:51 PM</small> <span class=post-prose> <p>I saw <a href="http://pypi.python.org/pypi/Blogofile">recently on PyPI</a> that blogofile, the Python blog engine that builds this blog, updated to version 0.7. This prompted me to upgrade my blog from 0.6 and detail the changes here, since the blogofile docs don&rsquo;t seem to have kept up. For the most part, this was discovered through trying to build my blog until it worked. I used the the <code class=prettyprint>blogofile init simple_blog</code> and <code class=prettyprint>blogofile init blogofile.com</code> projects as examples of &ldquo;working&rdquo; 0.7 projects and pulled code from them when my 0.6 code wasn&rsquo;t working.</p> <h3>Main Changes</h3> <ul> <li><p>The blogofile main config has changed. This always seems to the change the most between versions, My recommendation is that it would be quicker to scrap your old config and just reconfigure everything. The main reason is that every config variable is now more OO, being attached to a blog object, cleaning up the mess of random variables previously:</p> <pre class="highlight plaintext"><code>-blog_auto_permalink_enabled = True
+blog.auto_permalink.enabled = True
</code></pre></li> <li><p>With the new config naming scheme, your templates must be updated. I did this manually since I had tweaked my templates and wanted to keep my changes. You must update all config references to use the blog object; the disqus config variable mostly:</p> <pre class="highlight plaintext"><code>-% if bf.config.disqus_enabled:
+% if bf.config.blog.disqus.enabled:
</code></pre></li> <li><p>Controllers have become more generic and the &ldquo;blog&rdquo; controller has moved to it&rsquo;s own subfolder/module. From what I understand with the development of blogofile, this has been done to point blogofile toward becoming more of a static file generating engine with a blog controller, not just a blog engine. This is a good thing, but requires rebuild most of your controllers directory. I would pull these from the <code class=prettyprint>simple_blog</code> project.</p></li> <li><p>Likewise, filters for markdown and syntax highlighting have been updated, I would pull these from the <code class=prettyprint>simple_blog</code> project.</p></li> </ul> <p><a href="https://github.com/askedrelic/asktherelic.com/commit/db490969f3a3913da20ecc7c189e975c28ed975d">See here</a> for the diff of my main 0.6&gt;0.7 commit.</p> <h3>New Stuff</h3> <p>With that out of the way, the cool things that 0.7 brings are:</p> <ul> <li><p>Support for drafts! Just add a <code class=prettyprint>draft: true</code> to your blog header and you can keep your post in source control, but not have it published!</p></li> <li><p>Built-in linenums on source code now! Just add the <code class=prettyprint>linenums=true</code> variable in your code tag.</p> <pre class="highlight plaintext"><code>$$code(lang=python,linenums=true)
foo = 1
bar = 3
$$/code
</code></pre></li> <li><p>Version increment! This version has been a long time coming, but I feel I am missing most of the &ldquo;behind-the-scenes&rdquo; code changes that have made blogofile more dynamic and are paving the way for more powerful stuff in the future.</p></li> </ul> <p>Keep writing more code to make that future happen! To view the the source for this post and the rest of my blog, see <a href="https://github.com/askedrelic/asktherelic.com">my github project</a>.</p> </span> </div> </div> <div class=hr></div> <div> <h4>Recent Articles</h4> <div class="post frontpage"> <span class=linkdate>21 Apr 2014 »</span> <a href="/2014/04/21/upgrading-my-dotfiles-to-symlinks/">Upgrading My Dotfiles To Symlinks</a> </div> <div class="post frontpage"> <span class=linkdate>08 Feb 2014 »</span> <a href="/2014/02/08/another-year-another-set-of-backups/">Another Year, Another Set Of Backups</a> </div> <div class="post frontpage"> <span class=linkdate>02 Dec 2013 »</span> <a href="/2013/12/02/practical-lessons-learned-from-testing/">Practical Lessons Learned From Testing</a> </div> <div class="post frontpage"> <span class=linkdate>20 Nov 2013 »</span> <a href="/2013/11/20/streaming-small-http-responses-with-python/">Streaming Small HTTP Responses with Python</a> </div> <div class="post frontpage"> <span class=linkdate>03 Nov 2013 »</span> <a href="/2013/11/03/an-exploration-in-selecting-things/">An Exploration In Selecting Things</a> </div> <div class="post frontpage"> <span class=linkdate>22 Aug 2013 »</span> <a href="/2013/08/22/the-birthday-surprise/">The Birthday Surprise</a> </div> <div class="post frontpage"> <span class=linkdate>05 Aug 2013 »</span> <a href="/2013/08/05/a-newer-branch/">A Newer Branch</a> </div> </div> </div> <div class=hr></div> <p id=credits> Powered by <a href="http://middlemanapp.com/">Middleman</a>. <br/> <br/> </p> </div> <div id=right> <div id=right-header> <a href="/"><h1>Ask the Relic</h1></a> </div> </div> </div> </div> </div> <script>
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-1004202-1"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js?1455444368';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script> </body> </html>