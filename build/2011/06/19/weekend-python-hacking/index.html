<!doctype html> <html> <head> <meta charset=UTF-8 /> <meta http-equiv=Content-Type content="text/html"/> <title>/code - AsktheRelic.com</title> <link rel=alternate type="application/rss+xml" title="RSS 2.0" href="/code/feed/"/> <link rel=stylesheet media=screen href="/stylesheets/code.css?1455444369"/> <link rel=stylesheet href='/stylesheets/github.css?1455444369'/> <link rel="shortcut icon" href="/favicon.ico"> <script src="/javascripts/jquery-1.5.2.js?1455444369"></script> <script src="/javascripts/jquery.ui.widget-1.8.11.js?1455444369"></script> <script></script> </head> <body> <div id=container> <div id=container2> <div id=container1> <div id=left> <div id=left-header> <h2><a href="/code">/code - a blog</a></h2> </div> <div id=content> <div id=main_block> <div id=prose_block class=post> <a name=weekend-python-hacking /> <h2 class="blog.post_title"><a href="/2011/06/19/weekend-python-hacking/">Weekend Python Hacking</a></h2> <small>June 19, 2011 at 10:59 PM</small> <span class=post-prose> <p>I&rsquo;ve been able to get some time and focus this weekend to hack on a few Python side projects. In the sense of learning and self documentation, here are some things I learned:</p> <ul> <li><p>Know the difference between <code class=prettyprint>__str__</code> and <code class=prettyprint>__unicode__</code> (and <code class=prettyprint>__repr__</code>). Don&rsquo;t put Unicode in your str unless you want random unicode exceptions. An interesting snippet to get the best of both worlds:</p> <pre class="highlight plaintext"><code>def __str__(self):
    return unicode(self).encode('utf-8')
</code></pre></li> <li><p>I wish Python packaging and &ldquo;building a module&rdquo; best practices was simply laid out somewhere. I found <a href="http://guides.rubygems.org/make-your-own-gem/">this guide</a> for Ruby gems early last week and was very satisfied. One page, simple code and directory listings, best practice suggestions, from step one to published including a recommendation for testing. The closest thing I&rsquo;ve found for Python recently has been <a href="http://reinout.vanrees.org/weblog/2010/02/22/packaging-with-setuptools.html">this guide</a>.</p></li> <li><p>I know enough to use virtualenv + pip + a <code class=prettyprint>requirements.txt</code> file to build a clean environment. But damn, I&rsquo;m still figuring out setuptools, distribute, distutils and distutils2. Actually, continuation of my comment above, <a href="http://www.aosabook.org/en/packaging.html">this chapter</a> on Python Packaging has been one of the best recent guides I&rsquo;ve found. The whole &ldquo;The Architecture of Open source Applications&rdquo; book is fantastic, a great high level and detailed view into so many projects. But back to <code class=prettyprint>setup.py</code>: what&rsquo;s required, what&rsquo;s not? It&rsquo;s a flexible wrapper that everyone does different. I&rsquo;m still learning new commands for setup.py all the time. It&rsquo;s been frustrating.</p></li> <li><p>Best new command <code class=prettyprint>setup.py</code> command: <code class=prettyprint>python setup.py develop</code> It installs a link in your site-packages to your development module, so you can use it locally. Great idea!</p></li> <li><p>I found <a href="https://github.com/ctb/SomePackage">this skeleton</a> repo for a suggested package layout. I like it and wish I could find more skeletons.</p></li> <li><p>Inline class documentation: I&rsquo;ve seen enough evidence to suggest that reStructuredText (reST acronym?) is the preferred way, for readability and generated docs. I like Javadoc syntax for Java and PHP, but haven&rsquo;t seen much support in Python. Kenneth Reitz&rsquo;s <a href="https://github.com/kennethreitz/requests/">Requests</a> HTTP library is a great, <a href="http://readthedocs.org/docs/requests/en/latest/api/">well documented</a>, example. Related: <a href="http://readthedocs.org/">ReadTheDocs</a> is a fantastic site and I really love who ever launched it. Great for whenever the Django website goes down, or for viewing a specific version of docs. Viewing Django&rsquo;s &ldquo;dev&rdquo; version of the docs and finding new methods that you can&rsquo;t use is always annoying.</p></li> <li><p>Reminder for personal projects: start small. I get so wrapped up in these details, that I sometimes never finish anything useful. Someone has to worry about the details, but start small and finish something useful before you go trying to fix everything you think is broken.</p></li> </ul> </span> </div> </div> <div class=hr></div> <div> <h4>Recent Articles</h4> <div class="post frontpage"> <span class=linkdate>21 Apr 2014 »</span> <a href="/2014/04/21/upgrading-my-dotfiles-to-symlinks/">Upgrading My Dotfiles To Symlinks</a> </div> <div class="post frontpage"> <span class=linkdate>08 Feb 2014 »</span> <a href="/2014/02/08/another-year-another-set-of-backups/">Another Year, Another Set Of Backups</a> </div> <div class="post frontpage"> <span class=linkdate>02 Dec 2013 »</span> <a href="/2013/12/02/practical-lessons-learned-from-testing/">Practical Lessons Learned From Testing</a> </div> <div class="post frontpage"> <span class=linkdate>20 Nov 2013 »</span> <a href="/2013/11/20/streaming-small-http-responses-with-python/">Streaming Small HTTP Responses with Python</a> </div> <div class="post frontpage"> <span class=linkdate>03 Nov 2013 »</span> <a href="/2013/11/03/an-exploration-in-selecting-things/">An Exploration In Selecting Things</a> </div> <div class="post frontpage"> <span class=linkdate>22 Aug 2013 »</span> <a href="/2013/08/22/the-birthday-surprise/">The Birthday Surprise</a> </div> <div class="post frontpage"> <span class=linkdate>05 Aug 2013 »</span> <a href="/2013/08/05/a-newer-branch/">A Newer Branch</a> </div> </div> </div> <div class=hr></div> <p id=credits> Powered by <a href="http://middlemanapp.com/">Middleman</a>. <br/> <br/> </p> </div> <div id=right> <div id=right-header> <a href="/"><h1>Ask the Relic</h1></a> </div> </div> </div> </div> </div> <script>
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-1004202-1"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js?1455444369';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script> </body> </html>