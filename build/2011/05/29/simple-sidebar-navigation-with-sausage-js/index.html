<!doctype html> <html> <head> <meta charset=UTF-8 /> <meta http-equiv=Content-Type content="text/html"/> <title>/code - AsktheRelic.com</title> <link rel=alternate type="application/rss+xml" title="RSS 2.0" href="/code/feed/"/> <link rel=stylesheet media=screen href="/stylesheets/code.css?1472997830"/> <link rel=stylesheet href='/stylesheets/github.css?1472997830'/> <link rel="shortcut icon" href="/favicon.ico?1472997830"> <script src="https://code.jquery.com/jquery-1.12.4.js" integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU=" crossorigin=anonymous></script> <script src="https://code.jquery.com/ui/1.8.24/jquery-ui.min.js" integrity="sha256-UOoxwEUqhp5BSFFwqzyo2Qp4JLmYYPTHB8l+1yhZij8=" crossorigin=anonymous></script> </head> <body> <div id=container> <div id=container2> <div id=container1> <div id=left> <div id=left-header> <h2><a href="/code">/code - a blog</a></h2> </div> <div id=content> <div id=main_block> <div id=prose_block class=post> <a name=simple-sidebar-navigation-with-sausage-js /> <h2 class="blog.post_title"><a href="/2011/05/29/simple-sidebar-navigation-with-sausage-js/">Simple Sidebar Navigation with Sausage.js</a></h2> <small>May 29, 2011 at 11:41 AM</small> <span class=post-prose> <p>Several weeks ago, a friend linked me to <a href="http://christophercliff.github.com/sausage/">Sausage.js</a>, &ldquo;a jQuery UI widget for contextual pagination.&rdquo; I would call it more of a sidebar navigation widget. The example page was intriguing and prompted me to add it to this blog.</p> <h3>Requirements</h3> <p>My inital goal was based off the <a href="http://christophercliff.github.com/sausage/examples/couchdb.html">CouchDB example</a> linked on the Sausage homepage. I was slowed down by trying to figure out the exact JS and CSS requirements, which aren&rsquo;t specifically listed out, and some conflicts with my local CSS for this blog, the main Sausage div requires height 100% and I had something else set to 100% height which didn&rsquo;t work well&hellip;</p> <p>The main requirements:</p> <ul> <li>modern jQuery version (I&rsquo;m using 1.5.2)</li> <li>modern jQuery UI widget library (I&rsquo;m using 1.8.11)</li> <li><a href="/2011/05/29/simple-sidebar-navigation-with-sausage-js/sausage.reset.css?1472997830">Sausage CSS reset</a></li> <li><a href="/2011/05/29/simple-sidebar-navigation-with-sausage-js/sausage.css?1472997830">Sausage CSS styles</a></li> </ul> <p>Here is the main code to setup Sausage for my blog:</p> <pre class="highlight plaintext"><code>$(window).sausage({
    page: '.post',
    content: function (i, $page) {
        return '&lt;span class="sausage-span"&gt;' + $page.find('h2').first().text() + '&lt;/span&gt;';
    }
});
</code></pre> <h3>Bugfixing</h3> <p>The main thing Sausage.js provides is a sidebar that updates as you scroll, showing your current position among the main elements of the page. Great for blogs or documentation and no need to modify your current docs, since it&rsquo;s dynamically created on the client.</p> <p>I wanted to add the ability to jump between elements, which when I looked, was broken in Sausage and I re-implemented poorly.</p> <pre class="highlight plaintext"><code>$.each($('.sausage'), function (i, e) {
    $(e).bind('click', function () {
        var curTop = $('h2').eq(i).offset().top;
        $(window).scrollTop(curTop - 20);
    });
});
</code></pre> <p>Thanks to GitHub, I was able to easily fix the broken scrolling code, offer a fix, and get some simple navigation on the blog.</p> </span> </div> </div> <div class=hr></div> <div> <h4>Recent Articles</h4> <div class="post frontpage"> <span class=linkdate>21 Apr 2014 »</span> <a href="/2014/04/21/upgrading-my-dotfiles-to-symlinks/">Upgrading My Dotfiles To Symlinks</a> </div> <div class="post frontpage"> <span class=linkdate>08 Feb 2014 »</span> <a href="/2014/02/08/another-year-another-set-of-backups/">Another Year, Another Set Of Backups</a> </div> <div class="post frontpage"> <span class=linkdate>02 Dec 2013 »</span> <a href="/2013/12/02/practical-lessons-learned-from-testing/">Practical Lessons Learned From Testing</a> </div> <div class="post frontpage"> <span class=linkdate>20 Nov 2013 »</span> <a href="/2013/11/20/streaming-small-http-responses-with-python/">Streaming Small HTTP Responses with Python</a> </div> <div class="post frontpage"> <span class=linkdate>03 Nov 2013 »</span> <a href="/2013/11/03/an-exploration-in-selecting-things/">An Exploration In Selecting Things</a> </div> <div class="post frontpage"> <span class=linkdate>22 Aug 2013 »</span> <a href="/2013/08/22/the-birthday-surprise/">The Birthday Surprise</a> </div> <div class="post frontpage"> <span class=linkdate>05 Aug 2013 »</span> <a href="/2013/08/05/a-newer-branch/">A Newer Branch</a> </div> </div> </div> <div class=hr></div> <p id=credits> Powered by <a href="http://middlemanapp.com/">Middleman</a>. <br/> <br/> </p> </div> <div id=right> <div id=right-header> <a href="/"><h1>Ask the Relic</h1></a> </div> </div> </div> </div> </div> <script>
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-1004202-1"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script> </body> </html>