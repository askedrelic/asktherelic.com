<!doctype html> <html> <head> <meta charset=UTF-8 /> <meta http-equiv=Content-Type content="text/html"/> <title>/code - AsktheRelic.com</title> <link rel=alternate type="application/rss+xml" title="RSS 2.0" href="/code/feed/"/> <link rel=stylesheet media=screen href="/stylesheets/code.css?1455444366"/> <link rel=stylesheet href='/stylesheets/github.css?1455444366'/> <link rel="shortcut icon" href="/favicon.ico"> <script src="/javascripts/jquery-1.5.2.js?1455444366"></script> <script src="/javascripts/jquery.ui.widget-1.8.11.js?1455444366"></script> <script></script> </head> <body> <div id=container> <div id=container2> <div id=container1> <div id=left> <div id=left-header> <h2><a href="/code">/code - a blog</a></h2> </div> <div id=content> <div id=main_block> <div id=prose_block class=post> <a name=edit-locally-run-remotely-via-macfuse /> <h2 class="blog.post_title"><a href="/2009/07/17/edit-locally-run-remotely-via-macfuse/">Edit Locally, Run Remotely Via MacFUSE</a></h2> <small>July 17, 2009 at 01:37 PM</small> <span class=post-prose> <p>One of the most ample things I&rsquo;ve had this summer has been time: time to read, time to code, and time to tinker (or waste) on improving how I code. While I am occasionally guilt <a title="http://www.codinghorror.com/blog/archives/001282.html" href="http://www.codinghorror.com/blog/archives/001282.html" target=_blank>of being too &lsquo;meta,&rsquo;</a> spending too much much time worrying about how I do work rather than doing work, I feel that having the idea to improve in your head is far better than stagnating. Some improvements are easy to invest in and quick to see returns of saved time, others are not. Improving how you work and trying new things is an investment than I feel is worth making.</p> <p>The most recent change I&rsquo;ve done is to use MacFUSE to mount my ssh connections to remote machines as network files systems, via <a title="http://en.wikipedia.org/wiki/Sshfs" href="http://en.wikipedia.org/wiki/Sshfs">SSHFS</a>. Any machine that you have an ssh connection connection to, you can mount as a shared drive, allowing you to browse it via the Finder, copy and paste like any normal folder, and most important of all, edit files on that share using local programs. I&rsquo;ve used SMB or FTP before, but neither has worked as smooth as this or as easily. Using this method also gives you the security of SSH.</p> <p>This guide will show how to install MacFUSE, then install and setup the GUI or CLI version of SSHFS, depending on your preferences. The GUI version is sweet and simple, but takes up more RAM and is not as customizable as the CLI version. This is aimed primarily for OSX 10.5 users (The GUI version is 10.5 only, CLI should be 10.4 compatible). Linux users should have most of this functionality already built-in and I have not seen much free support for any of this in Windows.</p> <h3>Install MacFUSE</h3> <p>The latest stable version of <a title="http://code.google.com/p/macfuse/" href="http://code.google.com/p/macfuse/">MacFUSE</a> is 2.0.3. Download and install the package. It is the base package which enables other plugins to build custom filesystems with.</p> <p>Download: <a title="http://macfuse.googlecode.com/files/MacFUSE-2.0.3,2.dmg" href="http://macfuse.googlecode.com/files/MacFUSE-2.0.3,2.dmg">http://macfuse.googlecode.com/files/MacFUSE-2.0.3,2.dmg</a></p> <p><a href="http://thebehrensventure.com/wp-content/uploads/2009/07/macfuse_pref.png"><img class="aligncenter size-medium wp-image-518" title=macfuse_pref src="http://thebehrensventure.com/wp-content/uploads/2009/07/macfuse_pref-449x189.png" alt=macfuse_pref width=449 height=189 /></a></p> <p>MacFUSE will be installed as a Preference Pane in your System Preferences.</p> <h3>Install the GUI SSHFS</h3> <p>The GUI version of SSHFS is an app called <a title="http://www.macfusionapp.org/" href="http://www.macfusionapp.org/">MacFusion</a>. Download and install their app.</p> <p>Download: <a title="http://www.macfusionapp.org/files/mf2_latest.zip" href="http://www.macfusionapp.org/files/mf2_latest.zip">http://www.macfusionapp.org/files/mf2_latest.zip</a></p> <p>You then get a GUI with options to create new SSH or SFTP shares. Fill in your connection details and hit the &ldquo;Mount&rdquo; button. Your share should appear on the desktop, mounted at /Volumes/XXXX where XXXX is the share&rsquo;s hostname, but both the mount location and share name are customizable in the options.</p> <p><a href="http://thebehrensventure.com/wp-content/uploads/2009/07/macfusion_1.png"><img class="aligncenter size-medium wp-image-520" title=macfusion_1 src="http://thebehrensventure.com/wp-content/uploads/2009/07/macfusion_1-450x165.png" alt=macfusion_1 width=450 height=165 /></a></p> <p>You can set MacFusion to run on login and have a menu item for easy mounting/unmounting of shares. Quite easy!</p> <h3>Install the CLI SSHFS</h3> <p>I first found out about the CLI version and prefer this version due to the customization it provides. Not everyone needs a command line app though. </p> <p>First, checkout the code from Google Code using Subversion, following the <a title="http://code.google.com/p/macfuse/wiki/MACFUSE_FS_SSHFS" href="http://code.google.com/p/macfuse/wiki/MACFUSE_FS_SSHFS">official install instructions</a>. OSX 10.5 should have Subversion installed.</p> <pre class="highlight plaintext"><code>$ cd ~/Desktop
$ svn co http://macfuse.googlecode.com/svn/trunk/filesystems/sshfs/binary sshfs-binaries
</code></pre> <p>The binaries for 10.5 and 10.4 are the latest version of SSHFS, 2.2.0. Now you need to create a folder to mount to and then mount the shared drive!</p> <pre class="highlight plaintext"><code># Mounting the SSH file system
$ mkdir /some/mount/point # or use one that already exists
$ sshfs user@host:/some/directory /some/mount/point -oauto_cache,reconnect,volname="some vol name"
#My usual mount command
$ mkdir /Volumes/thebehrensventure.com
$ sshfs-static-leopard askedrelic@thebehrensventure.com:/home/askedrelic \
        /Volumes/thebehrensventure.com -oauto_cache,reconnect,volname="thebehrensventure.com"
</code></pre> <p>From here, you link the binary to your /usr/local/bin perhaps and create a script to automount the drive on login. Generally I prefer doing things via the Terminal, but that&rsquo;s just me.</p> <h3>Working with SSHFS</h3> <p>With an ssh drive mounted, you can go to that drive via the Finder and browse it graphically. Generally, I store my source code remotely on my server, edit the local copy using GVIM or TextMate and then run it remotely. I keep a remote ssh connection to the server I am editing on open, so I can run mysql commands or reboot the webserver I&rsquo;m using. With port forwarding, you can effectively do all of your work on a remote server, but still have the benefits of GUI applications and their performance.</p> <p>One thing to watch out for is applying commands for the remote server on the local folders. SVN or GIT will generally work in the local folders because their commands are directory specific. I have heard of issues when working with a large amount of folders before, with slow response times, but that is why I would recommend to apply all commands remotely over ssh. My main usage of SSHFS is over a LAN connection with a server sitting 10 feet from me. Browsing directories via the Finder in the Icon view over a slower connection, with Finder previews turned on and other bandwidth intensive accessories, will definitely dampen performance. Try browsing in List mode if you have slow performance.</p> <p>Hope this helps! My next guide will detail my VIM setup, which takes advantage of these mounted ssh drives.</p> </span> </div> </div> <div class=hr></div> <div> <h4>Recent Articles</h4> <div class="post frontpage"> <span class=linkdate>21 Apr 2014 »</span> <a href="/2014/04/21/upgrading-my-dotfiles-to-symlinks/">Upgrading My Dotfiles To Symlinks</a> </div> <div class="post frontpage"> <span class=linkdate>08 Feb 2014 »</span> <a href="/2014/02/08/another-year-another-set-of-backups/">Another Year, Another Set Of Backups</a> </div> <div class="post frontpage"> <span class=linkdate>02 Dec 2013 »</span> <a href="/2013/12/02/practical-lessons-learned-from-testing/">Practical Lessons Learned From Testing</a> </div> <div class="post frontpage"> <span class=linkdate>20 Nov 2013 »</span> <a href="/2013/11/20/streaming-small-http-responses-with-python/">Streaming Small HTTP Responses with Python</a> </div> <div class="post frontpage"> <span class=linkdate>03 Nov 2013 »</span> <a href="/2013/11/03/an-exploration-in-selecting-things/">An Exploration In Selecting Things</a> </div> <div class="post frontpage"> <span class=linkdate>22 Aug 2013 »</span> <a href="/2013/08/22/the-birthday-surprise/">The Birthday Surprise</a> </div> <div class="post frontpage"> <span class=linkdate>05 Aug 2013 »</span> <a href="/2013/08/05/a-newer-branch/">A Newer Branch</a> </div> </div> </div> <div class=hr></div> <p id=credits> Powered by <a href="http://middlemanapp.com/">Middleman</a>. <br/> <br/> </p> </div> <div id=right> <div id=right-header> <a href="/"><h1>Ask the Relic</h1></a> </div> </div> </div> </div> </div> <script>
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-1004202-1"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js?1455444366';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script> </body> </html>